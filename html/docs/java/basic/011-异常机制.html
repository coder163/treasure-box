<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>011-异常机制</title>
    <link rel="icon" href="https://github.com/tamlok/vnote/raw/master/src/resources/icons/vnote.ico">

    <style type="text/css">
    /* STYLE_GLOBAL_PLACE_HOLDER */
    </style>

    <style type="text/css">
    /* STYLE_OUTLINE_PLACE_HOLDER */
    /* STYLE_PLACE_HOLDER */
    </style>

    <!-- EXTRA_PLACE_HOLDER -->

<!-- HEAD_PLACE_HOLDER -->
</head>
<body>
<div class="container-fluid">
<div class="row flex-xl-nowrap">
    <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
        <div id="outline-content" class="section-nav"></div>
    </div>
    <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
    <ul>
<li>在Java语言中，在程序执行中发生的不正常情况称为”异常”</li>
<li>Error(错误):Java虚拟机无法解决的严重问题,我们编写的代码无法解决这类问题</li>
<li>Exception(异常)：其它因编程错误或偶然的外在因素导致的一般性问题，可以使用针对性的代码进行处理。</li>
</ul>
<h2 id="toc_0">继承体系<a class="vnote-anchor" href="#toc_0" data-anchor-icon="#"></a></h2>
<p><img src="_v_images/20190310174809513_32135.png" alt="" class="view-image"></p>
<blockquote>
<p>注意：Exception类以及其大部分子类中是没有方法的,方法全部都在Throwable中</p>
</blockquote>
<h2 id="toc_1">常见的异常类型<a class="vnote-anchor" href="#toc_1" data-anchor-icon="#"></a></h2>
<p>空指针异常：	java.lang .NullPointerException</p>
<p>数组下标越界:	java.lang.ArrayIndexOutOfBoundsException</p>
<p>算术异常: 	java.lang.ArithmeticException</p>
<p>堆栈溢出		java.lang.StackOverflowError</p>
<h2 id="toc_2">异常处理<a class="vnote-anchor" href="#toc_2" data-anchor-icon="#"></a></h2>
<p>运行时异常,因为该类异常只有在运行时期才会产生的异常所以一般不需要显式处理,发生在编译时期的异常我们必须进行显式处理</p>
<h3 id="toc_3">处理方式：<a class="vnote-anchor" href="#toc_3" data-anchor-icon="#"></a></h3>
<p>直接将异常抛出</p>
<ul>
<li>格式：
<ul>
<li>Throw:只能在方法体内部使用,一般用来抛出一个异常对象</li>
<li>Throws：在方法声明部分使用,一般是用来将方法内部的异常抛到该方法的上一级</li>
</ul>
</li>
</ul>
<pre><code class="lang-java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> show <span class="hljs-keyword">throws</span> <span class="hljs-title">MyException</span><span class="hljs-params">()</span></span>{

}
</code></pre>
<p>捕获处理(推荐)</p>
<ul>
<li>格式</li>
</ul>
<pre><code class="lang-java hljs">Try{
    可能产生异常的代码
}<span class="hljs-keyword">catch</span>(异常类型 e){

    当产生异常之后进行处理的代码
}<span class="hljs-keyword">finally</span>{

    无论是否产生异常都会执行的代码
}
</code></pre>
<h2 id="toc_4">自定义异常<a class="vnote-anchor" href="#toc_4" data-anchor-icon="#"></a></h2>
<p>我们编写一个类去继承Exception,代码清单如下：</p>
<p><img src="_v_images/20190310175259418_14059.png" alt="" class="view-image"></p>
<p>自定义异常类</p>
<p><img src="_v_images/20190310175316066_30837.png" alt="" class="view-image"></p>
<h2 id="toc_5">Throwable类的方法详解<a class="vnote-anchor" href="#toc_5" data-anchor-icon="#"></a></h2>
<p>构造方法</p>
<pre><code class="lang-java hljs"><span class="hljs-comment">//空参构造</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Throwable</span><span class="hljs-params">()</span>
<span class="hljs-comment">//带有指定异常信息的构造方法</span>
<span class="hljs-keyword">public</span> <span class="hljs-title">Throwable</span><span class="hljs-params">(String message)</span>
</span></code></pre>
<p>普通方法</p>
<pre><code class="lang-java hljs"><span class="hljs-comment">//获取当前异常类型和异常信息</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Throwable <span class="hljs-title">fillInStackTrace</span><span class="hljs-params">()</span>
<span class="hljs-comment">//获取的是异常产生的 位置</span>
<span class="hljs-keyword">public</span> StackTraceElement[] <span class="hljs-title">getStackTrace</span><span class="hljs-params">()</span>
<span class="hljs-comment">//将异常信息输出到指定的文件中</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printStackTrace</span><span class="hljs-params">(PrintWriter s)</span>
<span class="hljs-comment">//将和该异常相关的所有信息显示在控制台</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printStackTrace</span><span class="hljs-params">()</span>
<span class="hljs-comment">//获取异常消息</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title">getMessage</span><span class="hljs-params">()</span>
</span></code></pre>
<h2 id="toc_6">练习<a class="vnote-anchor" href="#toc_6" data-anchor-icon="#"></a></h2>
<p>编写一个类TestException，在main方法中使用try、catch、finally，要求：</p>
<ul>
<li>在try块中，编写被零除的代码</li>
<li>在catch块中，捕获被零除所产生的异常，并且打印异常信息</li>
<li>在finally块中，打印一条语句。</li>
</ul>
<p>编写应用程序EcmDef.java，接收命令行的两个参数，要求不能输入负数，计算两数相除。</p>
<ul>
<li>对数据类型不一致(NumberFormatException)</li>
<li>除0(ArithmeticException)进行异常处理</li>
</ul>

    </div>
</div>
</div>

<div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
    <div id="floating-button" onclick="toggleMore()">
        <p id="floating-more" class="more">&gt;</p>
    </div>
</div>

<!--
<div class="footer" id="vnote-footer">
    <p>Generated by <em><a href="https://tamlok.github.io/vnote/">VNote</a></em>.</p>
</div>
-->
</body>
</html>
